{"version":3,"file":"index.umd.js","sources":["../../src/index.ts"],"sourcesContent":["/**\n * A function that emits a side effect and does not return anything.\n */\nexport type Procedure = (...args: any[]) => void;\n\nexport type Options = {\n  isImmediate: boolean,\n}\n\nexport interface DebouncedFunction<F extends Procedure> {\n  (this: ThisParameterType<F>, ...args: Parameters<F>): void;\n  cancel: () => void;\n}\n\nexport function debounce<F extends Procedure>(\n  func: F,\n  waitMilliseconds = 50,\n  options: Options = {\n    isImmediate: false\n  },\n): DebouncedFunction<F> {\n  let timeoutId: ReturnType<typeof setTimeout> | undefined;\n\n  const debouncedFunction = function(this: ThisParameterType<F>, ...args: Parameters<F>) {\n    const context = this;\n\n    const doLater = function() {\n      timeoutId = undefined;\n      if (!options.isImmediate) {\n        func.apply(context, args);\n      }\n    }\n\n    const shouldCallNow = options.isImmediate && timeoutId === undefined;\n\n    if (timeoutId !== undefined) {\n      clearTimeout(timeoutId);\n    }\n\n    timeoutId = setTimeout(doLater, waitMilliseconds);\n\n    if (shouldCallNow) {\n      func.apply(context, args);\n    }\n  }\n\n  debouncedFunction.cancel = function() {\n    if (timeoutId !== undefined) {\n      clearTimeout(timeoutId);\n    }\n  }\n\n  return debouncedFunction;\n}\n"],"names":["func","waitMilliseconds","options","timeoutId","isImmediate","debouncedFunction","args","context","this","doLater","undefined","apply","shouldCallNow","clearTimeout","setTimeout","cancel"],"mappings":"8MAeEA,EACAC,EACAC,GAIA,IAAIC,WALJF,IAAAA,EAAmB,aACnBC,IAAAA,EAAmB,CACjBE,aAAa,IAKf,IAAMC,EAAoB,eAAwCC,2BAC1DC,EAAUC,KAEVC,EAAU,WACdN,OAAYO,EACPR,EAAQE,aACXJ,EAAKW,MAAMJ,EAASD,IAIlBM,EAAgBV,EAAQE,kBAA6BM,IAAdP,OAE3BO,IAAdP,GACFU,aAAaV,GAGfA,EAAYW,WAAWL,EAASR,GAE5BW,GACFZ,EAAKW,MAAMJ,EAASD,IAUxB,OANAD,EAAkBU,OAAS,gBACPL,IAAdP,GACFU,aAAaV,IAIVE"}